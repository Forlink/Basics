#Linux系统命令及Shell脚本
##第一章 Linux简介
<p>
	系统引导概述：
	<p>
		首先，计算机会加载BIOS,这是计算机上最接近硬件的软件，而BIOS中一项很重要的功能就是对自身硬件做一次健康检查，只有硬件没有问题，才能运行软件，操作系统也是一种软件。这种通电后开始的自检过程被称为“加电自检”。
	</p>
	<p>
		机器自检通过后，下面就要引导系统了。这个动作是BIOS设定的，BIOS默认会从硬盘上的第0柱面、第0磁道、第一个扇区中读取被称为MBR的东西，即主引导程序部分占用446字节，另外64字节是磁盘分区表DPT，最后两字节是MBR的结束位。这512字节的空间内容是由专门的分区程序产生的，比如说Windows下的fdisk.exe或者Linux下的fdisk命令，所以它不依赖于任何操作系统，而MBR中的引导程序也是可以修改的，所以可以利用这个特性实现多操作系统共存。由于RedHat、CentOS默认会使用Grub作为其引导操作系统的程序，而Grub本身又比较大，所以常见的方式是在MBR中写人Grub的地址，这样系统实际会载入Grub作为操作系统的引导程序。
	</p>
	<p>
		第三步就是顺理成章的运行Grub了。Grub最重要的功能就是根据其配置文件加载kernel镜像，并运行内核加载后的第一个程序/sbin/init，这个程序会根据/etc/inittab来进行初始化的工作。其实这里最重要的就是根据文件中设定的值来确定系统将会运行的runlevel，默认的runlevel定义在"id:3:initdefault:"中，其中的数字3说明目前的运行级别定义为3.
	</p>
	<p>
		第四步，Linux将根据/etc/inittab中定义的系统初始化配置si:sysinit:/etc/rc.d/rc.sysinit执行/etc/rc.sysinit脚本，该脚本将会设置系统变量、网络配置、并启动swap、设定/proc、加载用户自定义模块、加载内核设置等。
	</p>
	<p>
		第五步是根据第三步读到的runlevel值来启动对应得服务，如果值为3，就会运行/etc/rc.3d/下的所有脚本，如果值为5，就会运行/etc/rc5.d/下的所有脚本。
	</p>
	<p>第六步将运行/etc/rc.local，第七步会生成终端或X Window来等待用户登录</p>
</p>
##第二章 Linux用户管理
###2.2 Linux账号管理
####2.2.1 新增和删除用户
<p>	
	1、新增用户：useradd [name]
	<p>
	 	指定UID	useradd -u 555 [name]
	</p>
	<p>
		指定GID	useradd -g [group] [name]
	</p>
	<p>
		指定用户的家目录	useradd -d [route] [name]
	</p>
</p>
<p>
	2、修改密码： passwd [name]
	<p>
		普通用户修改时不需要加用户名，root修改其他人密码是添加名称
	</p>
</p>
<p>
	3、修改用户：usermod	
</p>
<p>
	4、删除用户： userdel
</p>
####2.2.2新增和删除用户组
<p>
	<p>1、增加用户组： groupadd [group]</p>
	<p>2、删除用户组： groupdel [group]</p>
</p>
####2.2.3检查用户信息
<p>
	1、查看用户：users、who、w
</p>
<p>
	2、调查用户：finger
</p>
###2.3切换用户
<p>
	切换用户指令：su
</p>
###2.4例行任务管理
####2.4.1 单一时刻执行一次任务：at
	at now + 30 minutes
	at> /sbin/shutdown -h now
	at> <EOT>
	job 1 at 2017-10-30 10:50
<p>
	其中，第一行是定义从现在开始算，30分钟后安排一个任务；第二行是到了时间后执行关机操作；第三行是个<EOT>，这不是使用键盘输入的，而是使用了组合键Ctrl+D，表示输入结束；第四行是系统提示有一个任务将在10:50被执行。可以使用atq命令查看当前使用at命令调度的任务列表，第一列是任务编码；也可以使用atrm删除已经进入任务队列的任务，在使用atq查询时，发现已经没有任务列表了。
</p>
####2.4.2 周期性执行任务： cron
<p>
	在Linux中，可以利用cron工具做这种设置。首先需要确定crond进程在运行，如果没有运行，需要先启动该进程。
</p>
	service crond start		//开启crond

	service crond status	//查看状态
<p>
	用户可通过crontab来设置自己的计划任务，并使用-e参数来编辑任务。在这之前需要先了解一下设置的“语法”，当使用crontab -e 进入编辑模式时，需要编辑执行的时间和执行的命令。在下面的示例中，前面5个*可以用来定义时间，第一个*表示分钟，可以使用的值为1~59，每分钟可以使用*和*/1表示；第二个*表示小时，可以使用的值是0~23；第三个*表日期，可以使用的值是1~31；第四个*表示月份，可以使用的值是1~12;第五个*表示星期几，可以只用值是0~6，0代表星期日；最后是执行的命令。当到了设定的时间时，系统就会自动执行定义好的命令，设置crontab的基本格式如下所示。
</p>
		* * * * *  command
		设置crontab的语法比较难以理解，这里举一些例子方便大家更好地理解，如下所示：
		* * * * * 		service httpd restart 
		*/1 * * * * 	service httpd restart
		#这两种写法其实是一致的，都是每分钟重启httpd进程。请注意，这只是个例子，除非你有确定的目的，否则不要在实际生产环节中这么设置
		* */1 * * *		service httpd restart
		#每小时重启httpd进程
		* 23-3/1 * * *	service httpd restart
		#从23点开始到三点，每小时重启httpd进程
		30 23 * * * 	service httpd restart
		#每天晚上23点30分重启httpd进程
		30 23 1 * *		service httpd restart
		#每月的第一天晚上23点30分重启httpd进程
		32 23 1 1 * 	service httpd restart
		#每年1月1日的晚上23点30分重启httpd进程
		30 23 * * 0 	service httpd restart

<p>
	设置完成后，可以使用crontab -l 查看设置的任务，也可以使用crontab -r 删除所有的任务。
</p>
##第三章 Linux 文件管理
###3.1文件和目录管理
<p>
	FHS 定义的目录结构
	<p>
		/bin/				常见的用户指令
	</p>
	<p>
		/boot/				内核和启动文件
	</p>
	<p>
		/dev/				设备文件
	</p>
	<p>
		/etc/				系统和服务的配置文件
	</p>
	<p>
		/home/				系统默认的普通用户的家目录
	</p>
	<p>
		/lib/				系统函数库目录
	</p>
	<p>
		/lost+found/		ext3 文件系统需要的目录，用于磁盘检查
	</p>
	<p>
		/mnt/				系统加载文件系统时常用的挂载点
	</p>
	<p>
		/opt/				第三方软件安装目录
	</p>
	<p>
		/proc/				虚拟文件系统
	</p>
	<p>
		/root/				root 用户的家目录
	</p>
	<p>
		/sbin/				存放系统管理命令
	</p>
	<p>
		/tmp/				临时文件的存放目录
	</p>
	<p>
		/usr/				存放与用户直接相关的文件和目录
	</p>
	<p>
		/media/				系统用来挂载光驱等临时文件系统的挂载点
	</p>
</p>
####3.1.2 文件的相关操作
<p>
	1、创建文件：touch
</p>
<p>
	2、删除文件：rm
</p>
<p>
	3、移动或者重命名文件：mv
</p>
<p>
	4、查看文件：cat
</p>
<p>
	5、查看文件头：head
</p>
<p>
	6、查看文件尾：tail
</p>
<p>
	7、文件格式转换：dos2unix
</p>
####3.1.3 目录的相关操作
<p>
	1、进入目录：cd
</p>
<p>
	2、创建目录：mkdir
</p>
<p>
	3、删除目录：rmdir和rm
</p>
<p>
	4、文件和目录复制：cp
</p>

	
	







